=== RUN   Test4
21:19:04.846995 [0] listening at [::]:61106
21:19:04.847469 [1] listening at [::]:61107
21:19:04.847756 [2] listening at [::]:61108
21:19:04.848032 [3] listening at [::]:61109
21:19:04.848295 [4] listening at [::]:61110
21:19:04.854537 AT NODE 2: Election timer started: 5.588s, with term=0
21:19:04.854701 AT NODE 3: Election timer started: 4.049s, with term=0
21:19:04.854704 AT NODE 1: Election timer started: 3.12s, with term=0
21:19:04.854704 AT NODE 0: Election timer started: 4.04s, with term=0
21:19:04.854707 AT NODE 4: Election timer started: 4.765s, with term=0
21:19:08.055688 AT NODE 1: became Candidate with term=1;
21:19:08.056362 AT NODE 1: Election timer started: 5.562s, with term=1
21:19:08.056445 AT NODE 1: sending RequestVote to 4: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:434}
21:19:08.056523 AT NODE 1: sending RequestVote to 3: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:159}
21:19:08.056565 AT NODE 1: sending RequestVote to 0: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:202}
21:19:08.056770 AT NODE 1: sending RequestVote to 2: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:406}
21:19:08.239938 AT NODE 3: Received Vote Request from NODE 1; Args: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:159} [currentTerm=0, votedFor=-1, log index/term=(-1, -1)]
21:19:08.240207 AT NODE 3: became Follower with term=1; log=[]
21:19:08.240577 AT NODE 3: Sending Request Vote Reply: &{Term:1 VoteGranted:true}
21:19:08.240711 AT NODE 3: Election timer started: 4.454s, with term=1
21:19:08.242198 AT NODE 1: received RequestVoteReply from 3: {Term:1 VoteGranted:true}
21:19:08.282315 AT NODE 0: Received Vote Request from NODE 1; Args: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:202} [currentTerm=0, votedFor=-1, log index/term=(-1, -1)]
21:19:08.282446 AT NODE 0: became Follower with term=1; log=[]
21:19:08.282589 AT NODE 0: Sending Request Vote Reply: &{Term:1 VoteGranted:true}
21:19:08.282715 AT NODE 0: Election timer started: 4.47s, with term=1
21:19:08.283778 AT NODE 1: received RequestVoteReply from 0: {Term:1 VoteGranted:true}
21:19:08.283867 AT NODE 1: Candidate 1 is now the leader
21:19:08.284049 AT NODE 1: became Leader; term=1, nextIndex=map[0:0 2:0 3:0 4:0], matchIndex=map[0:-1 2:-1 3:-1 4:-1]; log=[]
21:19:08.486162 AT NODE 2: Received Vote Request from NODE 1; Args: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:406} [currentTerm=0, votedFor=-1, log index/term=(-1, -1)]
21:19:08.486366 AT NODE 2: became Follower with term=1; log=[]
21:19:08.486596 AT NODE 2: Sending Request Vote Reply: &{Term:1 VoteGranted:true}
21:19:08.486743 AT NODE 2: Election timer started: 4.271s, with term=1
21:19:08.488081 AT NODE 1: received RequestVoteReply from 2: {Term:1 VoteGranted:true}
21:19:08.488148 AT NODE 1: State changed from Candidate to Leader
21:19:08.513673 AT NODE 4: Received Vote Request from NODE 1; Args: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:434} [currentTerm=0, votedFor=-1, log index/term=(-1, -1)]
21:19:08.513774 AT NODE 4: became Follower with term=1; log=[]
21:19:08.513864 AT NODE 4: Sending Request Vote Reply: &{Term:1 VoteGranted:true}
21:19:08.513972 AT NODE 4: Election timer started: 3.536s, with term=1
21:19:08.514956 AT NODE 1: received RequestVoteReply from 4: {Term:1 VoteGranted:true}
21:19:08.515013 AT NODE 1: State changed from Candidate to Leader
21:19:08.609070 AT NODE 1: ReceiveClientCommand received by Leader: Set X='OLD1'
21:19:08.609264 AT NODE 1: Log=[{Set X='OLD1' 1}]
21:19:08.609324 AT NODE 1: ReceiveClientCommand received by Leader: Set X='OLD2'
21:19:08.609405 AT NODE 1: Log=[{Set X='OLD1' 1} {Set X='OLD2' 1}]
21:19:08.609467 AT NODE 1: ReceiveClientCommand received by Leader: Set X='X+OLD3'
21:19:08.609553 AT NODE 1: Log=[{Set X='OLD1' 1} {Set X='OLD2' 1} {Set X='X+OLD3' 1}]
21:19:08.609601 AT NODE 1: ReceiveClientCommand received by Leader: Set X='OLD4'
21:19:08.609699 AT NODE 1: Log=[{Set X='OLD1' 1} {Set X='OLD2' 1} {Set X='X+OLD3' 1} {Set X='OLD4' 1}]
21:19:08.609842 AT NODE 1: ReceiveClientCommand received by Leader: Set X='OLD5'
21:19:08.609984 AT NODE 1: Log=[{Set X='OLD1' 1} {Set X='OLD2' 1} {Set X='X+OLD3' 1} {Set X='OLD4' 1} {Set X='OLD5' 1}]
21:19:08.610046 [ACTION] Disconnecting 1
21:19:12.314910 AT NODE 4: became Candidate with term=2;
21:19:12.315327 AT NODE 4: sending RequestVote to 0: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:224}
21:19:12.315403 AT NODE 4: Election timer started: 4.122s, with term=2
21:19:12.315327 AT NODE 4: sending RequestVote to 1: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:264}
21:19:12.315357 AT NODE 4: sending RequestVote to 3: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:495}
21:19:12.315366 AT NODE 4: sending RequestVote to 2: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:442}
21:19:12.561998 AT NODE 0: Received Vote Request from NODE 4; Args: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:224} [currentTerm=1, votedFor=1, log index/term=(-1, -1)]
21:19:12.562244 AT NODE 0: became Follower with term=2; log=[]
21:19:12.562480 AT NODE 0: Sending Request Vote Reply: &{Term:2 VoteGranted:true}
21:19:12.562651 AT NODE 0: Election timer started: 4.943s, with term=2
21:19:12.563861 AT NODE 4: received RequestVoteReply from 0: {Term:2 VoteGranted:true}
21:19:12.780334 AT NODE 2: Received Vote Request from NODE 4; Args: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:442} [currentTerm=1, votedFor=1, log index/term=(-1, -1)]
21:19:12.780583 AT NODE 2: became Follower with term=2; log=[]
21:19:12.780832 AT NODE 2: Sending Request Vote Reply: &{Term:2 VoteGranted:true}
21:19:12.780978 AT NODE 2: Election timer started: 5.707s, with term=2
21:19:12.782336 AT NODE 4: received RequestVoteReply from 2: {Term:2 VoteGranted:true}
21:19:12.782405 AT NODE 4: Candidate 4 is now the leader
21:19:12.782621 AT NODE 4: became Leader; term=2, nextIndex=map[0:0 1:0 2:0 3:0], matchIndex=map[0:-1 1:-1 2:-1 3:-1]; log=[]
21:19:12.832880 AT NODE 3: Received Vote Request from NODE 4; Args: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:495} [currentTerm=1, votedFor=1, log index/term=(-1, -1)]
21:19:12.833084 AT NODE 3: became Follower with term=2; log=[]
21:19:12.833264 AT NODE 3: Sending Request Vote Reply: &{Term:2 VoteGranted:true}
21:19:12.833395 AT NODE 3: Election timer started: 5.963s, with term=2
21:19:12.834411 AT NODE 4: received RequestVoteReply from 3: {Term:2 VoteGranted:true}
21:19:12.834482 AT NODE 4: State changed from Candidate to Leader
21:19:13.117071 AT NODE 4: ReceiveClientCommand received by Leader: Set X = 49
21:19:13.117339 AT NODE 4: Log=[{Set X = 49 2}]
21:19:13.117422 AT NODE 4: ReceiveClientCommand received by Leader: Set Y = 62
21:19:13.117510 AT NODE 4: Log=[{Set X = 49 2} {Set Y = 62 2}]
21:19:13.117580 AT NODE 4: ReceiveClientCommand received by Leader: Set X = 73
21:19:13.117707 AT NODE 4: Log=[{Set X = 49 2} {Set Y = 62 2} {Set X = 73 2}]
21:19:13.117773 AT NODE 4: ReceiveClientCommand received by Leader: Set X = 433
21:19:13.117872 AT NODE 4: Log=[{Set X = 49 2} {Set Y = 62 2} {Set X = 73 2} {Set X = 433 2}]
21:19:13.117944 AT NODE 4: ReceiveClientCommand received by Leader: Set Y = 510
21:19:13.118105 AT NODE 4: Log=[{Set X = 49 2} {Set Y = 62 2} {Set X = 73 2} {Set X = 433 2} {Set Y = 510 2}]
21:19:13.783262 AT NODE 4: sending AppendEntries to 1: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:-1 Latency:258}
21:19:13.783273 AT NODE 4: sending AppendEntries to 3: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:-1 Latency:308}
21:19:13.783296 AT NODE 4: sending AppendEntries to 0: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:-1 Latency:262}
21:19:13.783457 AT NODE 4: sending AppendEntries to 2: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:-1 Latency:277}
21:19:14.068201 AT NODE 0: Received AppendEntries from NODE 4; args: {Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:-1 Latency:262}
21:19:14.068479 AT NODE 0: Log is now: [{Set X = 49 2} {Set Y = 62 2} {Set X = 73 2} {Set X = 433 2} {Set Y = 510 2}]
21:19:14.068573 AT NODE 0: Sending AppendEntries reply: {Term:2 Success:true}
21:19:14.069270 AT NODE 4: AppendEntries reply from NODE 0 success: nextIndex := map[0:5 1:0 2:0 3:0], matchIndex := map[0:4 1:-1 2:-1 3:-1]
21:19:14.082922 AT NODE 2: Received AppendEntries from NODE 4; args: {Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:-1 Latency:277}
21:19:14.083045 AT NODE 2: Log is now: [{Set X = 49 2} {Set Y = 62 2} {Set X = 73 2} {Set X = 433 2} {Set Y = 510 2}]
21:19:14.083109 AT NODE 2: Sending AppendEntries reply: {Term:2 Success:true}
21:19:14.083549 AT NODE 4: AppendEntries reply from NODE 2 success: nextIndex := map[0:5 1:0 2:5 3:0], matchIndex := map[0:4 1:-1 2:4 3:-1]
21:19:14.083633 AT NODE 4: leader sets commitIndex := 4
21:19:14.114074 AT NODE 3: Received AppendEntries from NODE 4; args: {Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:-1 Latency:308}
21:19:14.114287 AT NODE 3: Log is now: [{Set X = 49 2} {Set Y = 62 2} {Set X = 73 2} {Set X = 433 2} {Set Y = 510 2}]
21:19:14.114380 AT NODE 3: Sending AppendEntries reply: {Term:2 Success:true}
21:19:14.114909 AT NODE 4: AppendEntries reply from NODE 3 success: nextIndex := map[0:5 1:0 2:5 3:5], matchIndex := map[0:4 1:-1 2:4 3:4]
21:19:14.782824 AT NODE 4: sending AppendEntries to 1: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:4 Latency:131}
21:19:15.783003 AT NODE 4: sending AppendEntries to 1: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:4 Latency:368}
21:19:16.782936 AT NODE 4: sending AppendEntries to 1: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:4 Latency:271}
21:19:17.782801 AT NODE 4: sending AppendEntries to 1: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:4 Latency:415}
21:19:18.782842 AT NODE 4: sending AppendEntries to 1: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:4 Latency:212}
21:19:19.118961 [ACTION] Reconnecting 1
21:19:19.284939 AT NODE 1: sending AppendEntries to 0: currentPeer_nextIndex=0, args={Term:1 LeaderId:1 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X='OLD1' Term:1} {Command:Set X='OLD2' Term:1} {Command:Set X='X+OLD3' Term:1} {Command:Set X='OLD4' Term:1} {Command:Set X='OLD5' Term:1}] LeaderCommit:-1 Latency:188}
21:19:19.284941 AT NODE 1: sending AppendEntries to 4: currentPeer_nextIndex=0, args={Term:1 LeaderId:1 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X='OLD1' Term:1} {Command:Set X='OLD2' Term:1} {Command:Set X='X+OLD3' Term:1} {Command:Set X='OLD4' Term:1} {Command:Set X='OLD5' Term:1}] LeaderCommit:-1 Latency:57}
21:19:19.284955 AT NODE 1: sending AppendEntries to 3: currentPeer_nextIndex=0, args={Term:1 LeaderId:1 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X='OLD1' Term:1} {Command:Set X='OLD2' Term:1} {Command:Set X='X+OLD3' Term:1} {Command:Set X='OLD4' Term:1} {Command:Set X='OLD5' Term:1}] LeaderCommit:-1 Latency:225}
21:19:19.285002 AT NODE 1: sending AppendEntries to 2: currentPeer_nextIndex=0, args={Term:1 LeaderId:1 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X='OLD1' Term:1} {Command:Set X='OLD2' Term:1} {Command:Set X='X+OLD3' Term:1} {Command:Set X='OLD4' Term:1} {Command:Set X='OLD5' Term:1}] LeaderCommit:-1 Latency:246}
21:19:19.364577 AT NODE 4: Received AppendEntries from NODE 1; args: {Term:1 LeaderId:1 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X='OLD1' Term:1} {Command:Set X='OLD2' Term:1} {Command:Set X='X+OLD3' Term:1} {Command:Set X='OLD4' Term:1} {Command:Set X='OLD5' Term:1}] LeaderCommit:-1 Latency:57}
21:19:19.364827 AT NODE 4: Sending AppendEntries reply: {Term:2 Success:false}
21:19:19.366139 AT NODE 1: became Follower with term=2; log=[{Set X='OLD1' 1} {Set X='OLD2' 1} {Set X='X+OLD3' 1} {Set X='OLD4' 1} {Set X='OLD5' 1}]
21:19:19.366308 AT NODE 1: Election timer started: 5.198s, with term=2
21:19:19.496535 AT NODE 0: Received AppendEntries from NODE 1; args: {Term:1 LeaderId:1 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X='OLD1' Term:1} {Command:Set X='OLD2' Term:1} {Command:Set X='X+OLD3' Term:1} {Command:Set X='OLD4' Term:1} {Command:Set X='OLD5' Term:1}] LeaderCommit:-1 Latency:188}
21:19:19.496766 AT NODE 0: Sending AppendEntries reply: {Term:2 Success:false}
21:19:19.533785 AT NODE 3: Received AppendEntries from NODE 1; args: {Term:1 LeaderId:1 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X='OLD1' Term:1} {Command:Set X='OLD2' Term:1} {Command:Set X='X+OLD3' Term:1} {Command:Set X='OLD4' Term:1} {Command:Set X='OLD5' Term:1}] LeaderCommit:-1 Latency:225}
21:19:19.533938 AT NODE 3: Sending AppendEntries reply: {Term:2 Success:false}
21:19:19.554769 AT NODE 2: Received AppendEntries from NODE 1; args: {Term:1 LeaderId:1 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X='OLD1' Term:1} {Command:Set X='OLD2' Term:1} {Command:Set X='X+OLD3' Term:1} {Command:Set X='OLD4' Term:1} {Command:Set X='OLD5' Term:1}] LeaderCommit:-1 Latency:246}
21:19:19.554927 AT NODE 2: Sending AppendEntries reply: {Term:2 Success:false}
21:19:19.782850 AT NODE 4: sending AppendEntries to 1: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:4 Latency:211}
21:19:20.015900 AT NODE 1: Received AppendEntries from NODE 4; args: {Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 49 Term:2} {Command:Set Y = 62 Term:2} {Command:Set X = 73 Term:2} {Command:Set X = 433 Term:2} {Command:Set Y = 510 Term:2}] LeaderCommit:4 Latency:211}
21:19:20.016027 AT NODE 1: Log is now: [{Set X = 49 2} {Set Y = 62 2} {Set X = 73 2} {Set X = 433 2} {Set Y = 510 2}]
21:19:20.016075 AT NODE 1: Sending AppendEntries reply: {Term:2 Success:true}
21:19:20.016760 AT NODE 4: AppendEntries reply from NODE 1 success: nextIndex := map[0:5 1:5 2:5 3:5], matchIndex := map[0:4 1:4 2:4 3:4]
21:19:22.124077 AT NODE 0: KILLED
21:19:22.124291 AT NODE 0: applyCommitedLogEntries done
21:19:22.124314 AT NODE 1: KILLED
21:19:22.124590 AT NODE 1: applyCommitedLogEntries done
21:19:22.124627 AT NODE 2: KILLED
21:19:22.124752 AT NODE 2: applyCommitedLogEntries done
21:19:22.124790 AT NODE 3: KILLED
21:19:22.124918 AT NODE 3: applyCommitedLogEntries done
21:19:22.253975 AT NODE 4: KILLED
21:19:22.254190 AT NODE 4: applyCommitedLogEntries done
--- PASS: Test4 (17.41s)
PASS
ok  	RaftLogReplication	17.628s
