=== RUN   Test2
21:17:54.112477 [0] listening at [::]:61065
21:17:54.112828 [1] listening at [::]:61066
21:17:54.113010 [2] listening at [::]:61067
21:17:54.113186 [3] listening at [::]:61068
21:17:54.113350 [4] listening at [::]:61069
21:17:54.117772 AT NODE 4: Election timer started: 5.647s, with term=0
21:17:54.117869 AT NODE 2: Election timer started: 4.094s, with term=0
21:17:54.117873 AT NODE 0: Election timer started: 4.029s, with term=0
21:17:54.117874 AT NODE 3: Election timer started: 4.365s, with term=0
21:17:54.117877 AT NODE 1: Election timer started: 4.594s, with term=0
21:17:58.318714 AT NODE 2: became Candidate with term=1;
21:17:58.318715 AT NODE 0: became Candidate with term=1;
21:17:58.319384 AT NODE 2: sending RequestVote to 0: {Term:1 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1 Latency:218}
21:17:58.319427 AT NODE 2: sending RequestVote to 1: {Term:1 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1 Latency:330}
21:17:58.319474 AT NODE 2: sending RequestVote to 4: {Term:1 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1 Latency:293}
21:17:58.319556 AT NODE 0: Election timer started: 5.103s, with term=1
21:17:58.319458 AT NODE 2: sending RequestVote to 3: {Term:1 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1 Latency:447}
21:17:58.319667 AT NODE 0: sending RequestVote to 4: {Term:1 CandidateId:0 LastLogIndex:-1 LastLogTerm:-1 Latency:19}
21:17:58.319673 AT NODE 0: sending RequestVote to 1: {Term:1 CandidateId:0 LastLogIndex:-1 LastLogTerm:-1 Latency:438}
21:17:58.319772 AT NODE 0: sending RequestVote to 2: {Term:1 CandidateId:0 LastLogIndex:-1 LastLogTerm:-1 Latency:377}
21:17:58.319940 AT NODE 0: sending RequestVote to 3: {Term:1 CandidateId:0 LastLogIndex:-1 LastLogTerm:-1 Latency:463}
21:17:58.320279 AT NODE 2: Election timer started: 3.976s, with term=1
21:17:58.362929 AT NODE 4: Received Vote Request from NODE 0; Args: {Term:1 CandidateId:0 LastLogIndex:-1 LastLogTerm:-1 Latency:19} [currentTerm=0, votedFor=-1, log index/term=(-1, -1)]
21:17:58.363125 AT NODE 4: became Follower with term=1; log=[]
21:17:58.363425 AT NODE 4: Sending Request Vote Reply: &{Term:1 VoteGranted:true}
21:17:58.363583 AT NODE 4: Election timer started: 3.379s, with term=1
21:17:58.364970 AT NODE 0: received RequestVoteReply from 4: {Term:1 VoteGranted:true}
21:17:58.518780 AT NODE 3: became Candidate with term=1;
21:17:58.519153 AT NODE 3: Election timer started: 3.806s, with term=1
21:17:58.519182 AT NODE 3: sending RequestVote to 4: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:251}
21:17:58.519183 AT NODE 3: sending RequestVote to 2: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:56}
21:17:58.519184 AT NODE 3: sending RequestVote to 1: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:356}
21:17:58.519293 AT NODE 3: sending RequestVote to 0: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:17}
21:17:58.559447 AT NODE 0: Received Vote Request from NODE 3; Args: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:17} [currentTerm=1, votedFor=0, log index/term=(-1, -1)]
21:17:58.559743 AT NODE 0: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
21:17:58.561001 AT NODE 3: received RequestVoteReply from 0: {Term:1 VoteGranted:false}
21:17:58.561191 AT NODE 0: Received Vote Request from NODE 2; Args: {Term:1 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1 Latency:218} [currentTerm=1, votedFor=0, log index/term=(-1, -1)]
21:17:58.561386 AT NODE 0: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
21:17:58.562410 AT NODE 2: received RequestVoteReply from 0: {Term:1 VoteGranted:false}
21:17:58.598025 AT NODE 2: Received Vote Request from NODE 3; Args: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:56} [currentTerm=1, votedFor=2, log index/term=(-1, -1)]
21:17:58.598425 AT NODE 2: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
21:17:58.599938 AT NODE 3: received RequestVoteReply from 2: {Term:1 VoteGranted:false}
21:17:58.635983 AT NODE 4: Received Vote Request from NODE 2; Args: {Term:1 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1 Latency:293} [currentTerm=1, votedFor=0, log index/term=(-1, -1)]
21:17:58.636383 AT NODE 4: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
21:17:58.637714 AT NODE 2: received RequestVoteReply from 4: {Term:1 VoteGranted:false}
21:17:58.673885 AT NODE 1: Received Vote Request from NODE 2; Args: {Term:1 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1 Latency:330} [currentTerm=0, votedFor=-1, log index/term=(-1, -1)]
21:17:58.674043 AT NODE 1: became Follower with term=1; log=[]
21:17:58.674238 AT NODE 1: Sending Request Vote Reply: &{Term:1 VoteGranted:true}
21:17:58.674372 AT NODE 1: Election timer started: 5.206s, with term=1
21:17:58.675372 AT NODE 2: received RequestVoteReply from 1: {Term:1 VoteGranted:true}
21:17:58.720196 AT NODE 2: Received Vote Request from NODE 0; Args: {Term:1 CandidateId:0 LastLogIndex:-1 LastLogTerm:-1 Latency:377} [currentTerm=1, votedFor=2, log index/term=(-1, -1)]
21:17:58.720467 AT NODE 2: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
21:17:58.721694 AT NODE 0: received RequestVoteReply from 2: {Term:1 VoteGranted:false}
21:17:58.781584 AT NODE 1: Received Vote Request from NODE 0; Args: {Term:1 CandidateId:0 LastLogIndex:-1 LastLogTerm:-1 Latency:438} [currentTerm=1, votedFor=2, log index/term=(-1, -1)]
21:17:58.781805 AT NODE 1: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
21:17:58.783016 AT NODE 0: received RequestVoteReply from 1: {Term:1 VoteGranted:false}
21:17:58.790898 AT NODE 3: Received Vote Request from NODE 2; Args: {Term:1 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1 Latency:447} [currentTerm=1, votedFor=3, log index/term=(-1, -1)]
21:17:58.791049 AT NODE 3: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
21:17:58.792179 AT NODE 2: received RequestVoteReply from 3: {Term:1 VoteGranted:false}
21:17:58.792235 AT NODE 4: Received Vote Request from NODE 3; Args: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:251} [currentTerm=1, votedFor=0, log index/term=(-1, -1)]
21:17:58.792367 AT NODE 4: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
21:17:58.793293 AT NODE 3: received RequestVoteReply from 4: {Term:1 VoteGranted:false}
21:17:58.806523 AT NODE 3: Received Vote Request from NODE 0; Args: {Term:1 CandidateId:0 LastLogIndex:-1 LastLogTerm:-1 Latency:463} [currentTerm=1, votedFor=3, log index/term=(-1, -1)]
21:17:58.806718 AT NODE 3: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
21:17:58.807769 AT NODE 0: received RequestVoteReply from 3: {Term:1 VoteGranted:false}
21:17:58.898190 AT NODE 1: Received Vote Request from NODE 3; Args: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:356} [currentTerm=1, votedFor=2, log index/term=(-1, -1)]
21:17:58.898498 AT NODE 1: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
21:17:58.899780 AT NODE 3: received RequestVoteReply from 1: {Term:1 VoteGranted:false}
21:18:01.764608 AT NODE 4: became Candidate with term=2;
21:18:01.765068 AT NODE 4: sending RequestVote to 0: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:250}
21:18:01.765138 AT NODE 4: sending RequestVote to 2: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:484}
21:18:01.765074 AT NODE 4: sending RequestVote to 1: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:465}
21:18:01.765101 AT NODE 4: sending RequestVote to 3: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:371}
21:18:01.765152 AT NODE 4: Election timer started: 5.037s, with term=2
21:18:02.037889 AT NODE 0: Received Vote Request from NODE 4; Args: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:250} [currentTerm=1, votedFor=0, log index/term=(-1, -1)]
21:18:02.038082 AT NODE 0: became Follower with term=2; log=[]
21:18:02.038362 AT NODE 0: Sending Request Vote Reply: &{Term:2 VoteGranted:true}
21:18:02.038537 AT NODE 0: Election timer started: 4.303s, with term=2
21:18:02.039733 AT NODE 4: received RequestVoteReply from 0: {Term:2 VoteGranted:true}
21:18:02.158700 AT NODE 3: Received Vote Request from NODE 4; Args: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:371} [currentTerm=1, votedFor=3, log index/term=(-1, -1)]
21:18:02.158827 AT NODE 3: became Follower with term=2; log=[]
21:18:02.158941 AT NODE 3: Sending Request Vote Reply: &{Term:2 VoteGranted:true}
21:18:02.159033 AT NODE 3: Election timer started: 4.04s, with term=2
21:18:02.159663 AT NODE 4: received RequestVoteReply from 3: {Term:2 VoteGranted:true}
21:18:02.159704 AT NODE 4: Candidate 4 is now the leader
21:18:02.159804 AT NODE 4: became Leader; term=2, nextIndex=map[0:0 1:0 2:0 3:0], matchIndex=map[0:-1 1:-1 2:-1 3:-1]; log=[]
21:18:02.209299 AT NODE 1: became Follower with term=2; log=[]
21:18:02.209522 AT NODE 1: Election timer started: 3.206s, with term=2
21:18:02.229401 AT NODE 2: became Follower with term=2; log=[]
21:18:02.229575 AT NODE 2: Election timer started: 3.297s, with term=2
21:18:02.252751 AT NODE 1: Received Vote Request from NODE 4; Args: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:465} [currentTerm=2, votedFor=-1, log index/term=(-1, -1)]
21:18:02.252921 AT NODE 1: Sending Request Vote Reply: &{Term:2 VoteGranted:true}
21:18:02.253491 AT NODE 4: received RequestVoteReply from 1: {Term:2 VoteGranted:true}
21:18:02.253579 AT NODE 4: State changed from Candidate to Leader
21:18:02.271683 AT NODE 2: Received Vote Request from NODE 4; Args: {Term:2 CandidateId:4 LastLogIndex:-1 LastLogTerm:-1 Latency:484} [currentTerm=2, votedFor=-1, log index/term=(-1, -1)]
21:18:02.271838 AT NODE 2: Sending Request Vote Reply: &{Term:2 VoteGranted:true}
21:18:02.272374 AT NODE 4: received RequestVoteReply from 2: {Term:2 VoteGranted:true}
21:18:02.272435 AT NODE 4: State changed from Candidate to Leader
21:18:02.377630 AT NODE 4: ReceiveClientCommand received by Leader: Set X = 5
21:18:02.377810 AT NODE 4: Log=[{Set X = 5 2}]
21:18:02.377868 AT NODE 4: ReceiveClientCommand received by Leader: Set X = 1000
21:18:02.377955 AT NODE 4: Log=[{Set X = 5 2} {Set X = 1000 2}]
21:18:03.160570 AT NODE 4: sending AppendEntries to 0: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:2} {Command:Set X = 1000 Term:2}] LeaderCommit:-1 Latency:88}
21:18:03.160572 AT NODE 4: sending AppendEntries to 1: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:2} {Command:Set X = 1000 Term:2}] LeaderCommit:-1 Latency:183}
21:18:03.160576 AT NODE 4: sending AppendEntries to 2: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:2} {Command:Set X = 1000 Term:2}] LeaderCommit:-1 Latency:137}
21:18:03.160585 AT NODE 4: sending AppendEntries to 3: currentPeer_nextIndex=0, args={Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:2} {Command:Set X = 1000 Term:2}] LeaderCommit:-1 Latency:493}
21:18:03.271017 AT NODE 0: Received AppendEntries from NODE 4; args: {Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:2} {Command:Set X = 1000 Term:2}] LeaderCommit:-1 Latency:88}
21:18:03.271193 AT NODE 0: Log is now: [{Set X = 5 2} {Set X = 1000 2}]
21:18:03.271286 AT NODE 0: Sending AppendEntries reply: {Term:2 Success:true}
21:18:03.271857 AT NODE 4: AppendEntries reply from NODE 0 success: nextIndex := map[0:2 1:0 2:0 3:0], matchIndex := map[0:1 1:-1 2:-1 3:-1]
21:18:03.320106 AT NODE 2: Received AppendEntries from NODE 4; args: {Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:2} {Command:Set X = 1000 Term:2}] LeaderCommit:-1 Latency:137}
21:18:03.320240 AT NODE 2: Log is now: [{Set X = 5 2} {Set X = 1000 2}]
21:18:03.320332 AT NODE 2: Sending AppendEntries reply: {Term:2 Success:true}
21:18:03.320872 AT NODE 4: AppendEntries reply from NODE 2 success: nextIndex := map[0:2 1:0 2:2 3:0], matchIndex := map[0:1 1:-1 2:1 3:-1]
21:18:03.320960 AT NODE 4: leader sets commitIndex := 1
21:18:03.365779 AT NODE 1: Received AppendEntries from NODE 4; args: {Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:2} {Command:Set X = 1000 Term:2}] LeaderCommit:-1 Latency:183}
21:18:03.365941 AT NODE 1: Log is now: [{Set X = 5 2} {Set X = 1000 2}]
21:18:03.366020 AT NODE 1: Sending AppendEntries reply: {Term:2 Success:true}
21:18:03.366549 AT NODE 4: AppendEntries reply from NODE 1 success: nextIndex := map[0:2 1:2 2:2 3:0], matchIndex := map[0:1 1:1 2:1 3:-1]
21:18:03.675920 AT NODE 3: Received AppendEntries from NODE 4; args: {Term:2 LeaderId:4 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:2} {Command:Set X = 1000 Term:2}] LeaderCommit:-1 Latency:493}
21:18:03.676086 AT NODE 3: Log is now: [{Set X = 5 2} {Set X = 1000 2}]
21:18:03.676182 AT NODE 3: Sending AppendEntries reply: {Term:2 Success:true}
21:18:03.676735 AT NODE 4: AppendEntries reply from NODE 3 success: nextIndex := map[0:2 1:2 2:2 3:2], matchIndex := map[0:1 1:1 2:1 3:1]
21:18:05.378940 [ACTION] Disconnecting 4
21:18:08.610169 AT NODE 1: became Candidate with term=3;
21:18:08.610755 AT NODE 1: sending RequestVote to 0: {Term:3 CandidateId:1 LastLogIndex:1 LastLogTerm:2 Latency:27}
21:18:08.611279 AT NODE 1: sending RequestVote to 2: {Term:3 CandidateId:1 LastLogIndex:1 LastLogTerm:2 Latency:318}
21:18:08.610796 AT NODE 1: sending RequestVote to 4: {Term:3 CandidateId:1 LastLogIndex:1 LastLogTerm:2 Latency:302}
21:18:08.611073 AT NODE 1: Election timer started: 4.154s, with term=3
21:18:08.611171 AT NODE 1: sending RequestVote to 3: {Term:3 CandidateId:1 LastLogIndex:1 LastLogTerm:2 Latency:3}
21:18:08.629772 AT NODE 2: became Candidate with term=3;
21:18:08.630118 AT NODE 2: Election timer started: 5.648s, with term=3
21:18:08.630159 AT NODE 2: sending RequestVote to 4: {Term:3 CandidateId:2 LastLogIndex:1 LastLogTerm:2 Latency:241}
21:18:08.630175 AT NODE 2: sending RequestVote to 1: {Term:3 CandidateId:2 LastLogIndex:1 LastLogTerm:2 Latency:192}
21:18:08.630229 AT NODE 2: sending RequestVote to 3: {Term:3 CandidateId:2 LastLogIndex:1 LastLogTerm:2 Latency:127}
21:18:08.630252 AT NODE 2: sending RequestVote to 0: {Term:3 CandidateId:2 LastLogIndex:1 LastLogTerm:2 Latency:434}
21:18:08.636920 AT NODE 3: Received Vote Request from NODE 1; Args: {Term:3 CandidateId:1 LastLogIndex:1 LastLogTerm:2 Latency:3} [currentTerm=2, votedFor=4, log index/term=(1, 2)]
21:18:08.637088 AT NODE 3: became Follower with term=3; log=[{Set X = 5 2} {Set X = 1000 2}]
21:18:08.637185 AT NODE 3: Sending Request Vote Reply: &{Term:3 VoteGranted:true}
21:18:08.637323 AT NODE 3: Election timer started: 4.751s, with term=3
21:18:08.638361 AT NODE 1: received RequestVoteReply from 3: {Term:3 VoteGranted:true}
21:18:08.660897 AT NODE 0: Received Vote Request from NODE 1; Args: {Term:3 CandidateId:1 LastLogIndex:1 LastLogTerm:2 Latency:27} [currentTerm=2, votedFor=4, log index/term=(1, 2)]
21:18:08.661133 AT NODE 0: became Follower with term=3; log=[{Set X = 5 2} {Set X = 1000 2}]
21:18:08.661202 AT NODE 0: Sending Request Vote Reply: &{Term:3 VoteGranted:true}
21:18:08.661302 AT NODE 0: Election timer started: 5.009s, with term=3
21:18:08.662152 AT NODE 1: received RequestVoteReply from 0: {Term:3 VoteGranted:true}
21:18:08.662202 AT NODE 1: Candidate 1 is now the leader
21:18:08.662359 AT NODE 1: became Leader; term=3, nextIndex=map[0:2 2:2 3:2 4:2], matchIndex=map[0:-1 2:-1 3:-1 4:-1]; log=[{Set X = 5 2} {Set X = 1000 2}]
21:18:08.758859 AT NODE 2: became Follower with term=3; log=[{Set X = 5 2} {Set X = 1000 2}]
21:18:08.759180 AT NODE 2: Election timer started: 4.346s, with term=3
21:18:08.778999 AT NODE 3: Received Vote Request from NODE 2; Args: {Term:3 CandidateId:2 LastLogIndex:1 LastLogTerm:2 Latency:127} [currentTerm=3, votedFor=1, log index/term=(1, 2)]
21:18:08.779263 AT NODE 3: Sending Request Vote Reply: &{Term:3 VoteGranted:false}
21:18:08.779772 AT NODE 2: received RequestVoteReply from 3: {Term:3 VoteGranted:false}
21:18:08.779868 AT NODE 2: State changed from Candidate to Follower
21:18:08.843588 AT NODE 1: Received Vote Request from NODE 2; Args: {Term:3 CandidateId:2 LastLogIndex:1 LastLogTerm:2 Latency:192} [currentTerm=3, votedFor=1, log index/term=(1, 2)]
21:18:08.843898 AT NODE 1: Sending Request Vote Reply: &{Term:3 VoteGranted:false}
21:18:08.844540 AT NODE 2: received RequestVoteReply from 1: {Term:3 VoteGranted:false}
21:18:08.844612 AT NODE 2: State changed from Candidate to Follower
21:18:08.951960 AT NODE 2: Received Vote Request from NODE 1; Args: {Term:3 CandidateId:1 LastLogIndex:1 LastLogTerm:2 Latency:318} [currentTerm=3, votedFor=-1, log index/term=(1, 2)]
21:18:08.952245 AT NODE 2: Sending Request Vote Reply: &{Term:3 VoteGranted:true}
21:18:08.953041 AT NODE 1: received RequestVoteReply from 2: {Term:3 VoteGranted:true}
21:18:08.953139 AT NODE 1: State changed from Candidate to Leader
21:18:09.086084 AT NODE 0: Received Vote Request from NODE 2; Args: {Term:3 CandidateId:2 LastLogIndex:1 LastLogTerm:2 Latency:434} [currentTerm=3, votedFor=1, log index/term=(1, 2)]
21:18:09.086221 AT NODE 0: Sending Request Vote Reply: &{Term:3 VoteGranted:false}
21:18:09.086551 AT NODE 2: received RequestVoteReply from 0: {Term:3 VoteGranted:false}
21:18:09.086596 AT NODE 2: State changed from Candidate to Follower
21:18:09.134085 AT NODE 1: ReceiveClientCommand received by Leader: Set X = X+10
21:18:09.134151 AT NODE 1: Log=[{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3}]
21:18:09.134169 AT NODE 1: ReceiveClientCommand received by Leader: Set X = X+1
21:18:09.134200 AT NODE 1: Log=[{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3} {Set X = X+1 3}]
21:18:09.134213 AT NODE 1: ReceiveClientCommand received by Leader: Set Y = 5
21:18:09.134246 AT NODE 1: Log=[{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3} {Set X = X+1 3} {Set Y = 5 3}]
21:18:09.134264 AT NODE 1: ReceiveClientCommand received by Leader: Set Y = X+Y
21:18:09.134289 AT NODE 1: Log=[{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3} {Set X = X+1 3} {Set Y = 5 3} {Set Y = X+Y 3}]
21:18:09.134300 AT NODE 1: ReceiveClientCommand received by Leader: Set Y = Y+3
21:18:09.134328 AT NODE 1: Log=[{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3} {Set X = X+1 3} {Set Y = 5 3} {Set Y = X+Y 3} {Set Y = Y+3 3}]
21:18:09.134344 AT NODE 1: ReceiveClientCommand received by Leader: Set Z = -1
21:18:09.134377 AT NODE 1: Log=[{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3} {Set X = X+1 3} {Set Y = 5 3} {Set Y = X+Y 3} {Set Y = Y+3 3} {Set Z = -1 3}]
21:18:09.662617 AT NODE 1: sending AppendEntries to 4: currentPeer_nextIndex=2, args={Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3}] LeaderCommit:1 Latency:351}
21:18:09.662625 AT NODE 1: sending AppendEntries to 0: currentPeer_nextIndex=2, args={Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3}] LeaderCommit:1 Latency:466}
21:18:09.662631 AT NODE 1: sending AppendEntries to 2: currentPeer_nextIndex=2, args={Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3}] LeaderCommit:1 Latency:80}
21:18:09.662682 AT NODE 1: sending AppendEntries to 3: currentPeer_nextIndex=2, args={Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3}] LeaderCommit:1 Latency:154}
21:18:09.763865 AT NODE 2: Received AppendEntries from NODE 1; args: {Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3}] LeaderCommit:1 Latency:80}
21:18:09.763967 AT NODE 2: Log is now: [{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3} {Set X = X+1 3} {Set Y = 5 3} {Set Y = X+Y 3} {Set Y = Y+3 3} {Set Z = -1 3}]
21:18:09.764014 AT NODE 2: Sending AppendEntries reply: {Term:3 Success:true}
21:18:09.764276 AT NODE 1: AppendEntries reply from NODE 2 success: nextIndex := map[0:2 2:8 3:2 4:2], matchIndex := map[0:1 2:7 3:1 4:-1]
21:18:09.838053 AT NODE 3: Received AppendEntries from NODE 1; args: {Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3}] LeaderCommit:1 Latency:154}
21:18:09.838131 AT NODE 3: Log is now: [{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3} {Set X = X+1 3} {Set Y = 5 3} {Set Y = X+Y 3} {Set Y = Y+3 3} {Set Z = -1 3}]
21:18:09.838148 AT NODE 3: Sending AppendEntries reply: {Term:3 Success:true}
21:18:09.838392 AT NODE 1: AppendEntries reply from NODE 3 success: nextIndex := map[0:2 2:8 3:8 4:2], matchIndex := map[0:1 2:7 3:7 4:-1]
21:18:09.838414 AT NODE 1: leader sets commitIndex := 7
21:18:10.150835 AT NODE 0: Received AppendEntries from NODE 1; args: {Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3}] LeaderCommit:1 Latency:466}
21:18:10.151034 AT NODE 0: Log is now: [{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3} {Set X = X+1 3} {Set Y = 5 3} {Set Y = X+Y 3} {Set Y = Y+3 3} {Set Z = -1 3}]
21:18:10.151094 AT NODE 0: Sending AppendEntries reply: {Term:3 Success:true}
21:18:10.151672 AT NODE 1: AppendEntries reply from NODE 0 success: nextIndex := map[0:8 2:8 3:8 4:2], matchIndex := map[0:7 2:7 3:7 4:-1]
21:18:10.662538 AT NODE 1: sending AppendEntries to 4: currentPeer_nextIndex=2, args={Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3}] LeaderCommit:7 Latency:135}
21:18:11.662452 AT NODE 1: sending AppendEntries to 4: currentPeer_nextIndex=2, args={Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3}] LeaderCommit:7 Latency:375}
21:18:12.135418 AT NODE 1: ReceiveClientCommand received by Leader: Set Z = 3
21:18:12.135877 AT NODE 1: Log=[{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3} {Set X = X+1 3} {Set Y = 5 3} {Set Y = X+Y 3} {Set Y = Y+3 3} {Set Z = -1 3} {Set Z = 3 3}]
21:18:12.662535 AT NODE 1: sending AppendEntries to 2: currentPeer_nextIndex=8, args={Term:3 LeaderId:1 PrevLogIndex:7 PrevLogTerm:3 Entries:[{Command:Set Z = 3 Term:3}] LeaderCommit:7 Latency:313}
21:18:12.662546 AT NODE 1: sending AppendEntries to 0: currentPeer_nextIndex=8, args={Term:3 LeaderId:1 PrevLogIndex:7 PrevLogTerm:3 Entries:[{Command:Set Z = 3 Term:3}] LeaderCommit:7 Latency:46}
21:18:12.662651 AT NODE 1: sending AppendEntries to 4: currentPeer_nextIndex=2, args={Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3} {Command:Set Z = 3 Term:3}] LeaderCommit:7 Latency:9}
21:18:12.662722 AT NODE 1: sending AppendEntries to 3: currentPeer_nextIndex=8, args={Term:3 LeaderId:1 PrevLogIndex:7 PrevLogTerm:3 Entries:[{Command:Set Z = 3 Term:3}] LeaderCommit:7 Latency:22}
21:18:12.706804 AT NODE 3: Received AppendEntries from NODE 1; args: {Term:3 LeaderId:1 PrevLogIndex:7 PrevLogTerm:3 Entries:[{Command:Set Z = 3 Term:3}] LeaderCommit:7 Latency:22}
21:18:12.707103 AT NODE 3: Log is now: [{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3} {Set X = X+1 3} {Set Y = 5 3} {Set Y = X+Y 3} {Set Y = Y+3 3} {Set Z = -1 3} {Set Z = 3 3}]
21:18:12.707198 AT NODE 3: Sending AppendEntries reply: {Term:3 Success:true}
21:18:12.707736 AT NODE 1: AppendEntries reply from NODE 3 success: nextIndex := map[0:8 2:8 3:9 4:2], matchIndex := map[0:7 2:7 3:8 4:-1]
21:18:12.730700 AT NODE 0: Received AppendEntries from NODE 1; args: {Term:3 LeaderId:1 PrevLogIndex:7 PrevLogTerm:3 Entries:[{Command:Set Z = 3 Term:3}] LeaderCommit:7 Latency:46}
21:18:12.730964 AT NODE 0: Log is now: [{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3} {Set X = X+1 3} {Set Y = 5 3} {Set Y = X+Y 3} {Set Y = Y+3 3} {Set Z = -1 3} {Set Z = 3 3}]
21:18:12.731045 AT NODE 0: Sending AppendEntries reply: {Term:3 Success:true}
21:18:12.731512 AT NODE 1: AppendEntries reply from NODE 0 success: nextIndex := map[0:9 2:8 3:9 4:2], matchIndex := map[0:8 2:7 3:8 4:-1]
21:18:12.731585 AT NODE 1: leader sets commitIndex := 8
21:18:12.996721 AT NODE 2: Received AppendEntries from NODE 1; args: {Term:3 LeaderId:1 PrevLogIndex:7 PrevLogTerm:3 Entries:[{Command:Set Z = 3 Term:3}] LeaderCommit:7 Latency:313}
21:18:12.996904 AT NODE 2: Log is now: [{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3} {Set X = X+1 3} {Set Y = 5 3} {Set Y = X+Y 3} {Set Y = Y+3 3} {Set Z = -1 3} {Set Z = 3 3}]
21:18:12.996950 AT NODE 2: Sending AppendEntries reply: {Term:3 Success:true}
21:18:12.997347 AT NODE 1: AppendEntries reply from NODE 2 success: nextIndex := map[0:9 2:9 3:9 4:2], matchIndex := map[0:8 2:8 3:8 4:-1]
21:18:13.662523 AT NODE 1: sending AppendEntries to 4: currentPeer_nextIndex=2, args={Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3} {Command:Set Z = 3 Term:3}] LeaderCommit:8 Latency:132}
21:18:14.662567 AT NODE 1: sending AppendEntries to 4: currentPeer_nextIndex=2, args={Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3} {Command:Set Z = 3 Term:3}] LeaderCommit:8 Latency:43}
21:18:15.136932 [ACTION] Reconnecting 4
21:18:15.160223 AT NODE 4: sending AppendEntries to 2: currentPeer_nextIndex=2, args={Term:2 LeaderId:4 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X-5 Term:2}] LeaderCommit:1 Latency:148}
21:18:15.160223 AT NODE 4: sending AppendEntries to 1: currentPeer_nextIndex=2, args={Term:2 LeaderId:4 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X-5 Term:2}] LeaderCommit:1 Latency:313}
21:18:15.160224 AT NODE 4: sending AppendEntries to 0: currentPeer_nextIndex=2, args={Term:2 LeaderId:4 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X-5 Term:2}] LeaderCommit:1 Latency:380}
21:18:15.160225 AT NODE 4: sending AppendEntries to 3: currentPeer_nextIndex=2, args={Term:2 LeaderId:4 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X-5 Term:2}] LeaderCommit:1 Latency:432}
21:18:15.332096 AT NODE 2: Received AppendEntries from NODE 4; args: {Term:2 LeaderId:4 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X-5 Term:2}] LeaderCommit:1 Latency:148}
21:18:15.332287 AT NODE 2: Sending AppendEntries reply: {Term:3 Success:false}
21:18:15.333729 AT NODE 4: became Follower with term=3; log=[{Set X = 5 2} {Set X = 1000 2} {Set X = X-5 2}]
21:18:15.333934 AT NODE 4: Election timer started: 4.696s, with term=3
21:18:15.496502 AT NODE 1: Received AppendEntries from NODE 4; args: {Term:2 LeaderId:4 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X-5 Term:2}] LeaderCommit:1 Latency:313}
21:18:15.496679 AT NODE 1: Sending AppendEntries reply: {Term:3 Success:false}
21:18:15.562701 AT NODE 0: Received AppendEntries from NODE 4; args: {Term:2 LeaderId:4 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X-5 Term:2}] LeaderCommit:1 Latency:380}
21:18:15.562859 AT NODE 0: Sending AppendEntries reply: {Term:3 Success:false}
21:18:15.615881 AT NODE 3: Received AppendEntries from NODE 4; args: {Term:2 LeaderId:4 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X-5 Term:2}] LeaderCommit:1 Latency:432}
21:18:15.616010 AT NODE 3: Sending AppendEntries reply: {Term:3 Success:false}
21:18:15.662468 AT NODE 1: sending AppendEntries to 4: currentPeer_nextIndex=2, args={Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3} {Command:Set Z = 3 Term:3}] LeaderCommit:8 Latency:373}
21:18:16.059062 AT NODE 4: Received AppendEntries from NODE 1; args: {Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:2 Entries:[{Command:Set X = X+10 Term:3} {Command:Set X = X+1 Term:3} {Command:Set Y = 5 Term:3} {Command:Set Y = X+Y Term:3} {Command:Set Y = Y+3 Term:3} {Command:Set Z = -1 Term:3} {Command:Set Z = 3 Term:3}] LeaderCommit:8 Latency:373}
21:18:16.059338 AT NODE 4: Log is now: [{Set X = 5 2} {Set X = 1000 2} {Set X = X+10 3} {Set X = X+1 3} {Set Y = 5 3} {Set Y = X+Y 3} {Set Y = Y+3 3} {Set Z = -1 3} {Set Z = 3 3}]
21:18:16.059442 AT NODE 4: Sending AppendEntries reply: {Term:3 Success:true}
21:18:16.060843 AT NODE 1: AppendEntries reply from NODE 4 success: nextIndex := map[0:9 2:9 3:9 4:9], matchIndex := map[0:8 2:8 3:8 4:8]
21:18:30.141792 AT NODE 0: KILLED
21:18:30.142026 AT NODE 0: applyCommitedLogEntries done
21:18:30.142071 AT NODE 1: KILLED
21:18:30.142168 AT NODE 1: applyCommitedLogEntries done
21:18:30.142235 AT NODE 2: KILLED
21:18:30.142321 AT NODE 2: applyCommitedLogEntries done
21:18:30.142335 AT NODE 3: KILLED
21:18:30.142425 AT NODE 3: applyCommitedLogEntries done
21:18:30.169268 AT NODE 4: KILLED
21:18:30.169415 AT NODE 4: applyCommitedLogEntries done
--- PASS: Test2 (36.06s)
PASS
ok  	RaftLogReplication	36.578s
